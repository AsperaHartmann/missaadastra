<!-- ========================================
     MISSA AD ASTRA - BILINGUAL WEBSITE
     English Version (index.html)
     ======================================== -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Missa Ad Astra | Original Contemporary Mass by Rui Paulo Teixeira & Alvaro Aspera | For SATB Soloists, Choir and Orchestra</title>
	<meta name="description" content="Experience Missa Ad Astra, a revolutionary contemporary mass with entirely new Latin texts. Composed by Rui Paulo Teixeira with texts by Alvaro Aspera. 25 years in the making. World premiere 2024.">
    <meta name="keywords" content="Missa Ad Astra, contemporary mass, sacred music, Latin mass, Rui Paulo Teixeira, Alvaro Aspera, classical music, choral music, SATB, orchestra">
	<meta property="og:title" content="Missa Ad Astra - A Contemporary Sacred Manifesto">
	<meta property="og:description" content="25 years in the making. Entirely new Latin texts. Revolutionary sacred music.">
	<meta property="og:type" content="website">
	
	<!-- Favicons -->
	<link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
	<link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
	<link rel="shortcut icon" href="/favicon/favicon.ico" />
	<link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
	<meta name="apple-mobile-web-app-title" content="Missa Ad Astra" />
	<link rel="manifest" href="/favicon/site.webmanifest" />
	
	<!-- Schema.org Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "MusicComposition",
  "name": "Missa Ad Astra",
  "alternateName": "Missa Ad Astra: A Contemporary Sacred Manifesto",
  "description": "A contemporary mass for SATB soloists, choir, and orchestra featuring original Latin texts.",
  "composer": [
    {
      "@type": "Person",
      "name": "Rui Paulo Teixeira",
      "jobTitle": "Composer"
    },
    {
      "@type": "Person",
      "name": "Alvaro Aspera",
      "jobTitle": "Lyricist"
    }
  ],
  "datePublished": "2024",
  "duration": "PT40M",
  "genre": ["Sacred Music", "Contemporary Classical Music", "Choral Music", "Contemporary Sacred Music"],
  "inLanguage": ["la", "pt", "en"],
  "musicCompositionForm": "Mass",
  "isFamilyFriendly": true,
  "keywords": "contemporary classical, contemporary mass, sacred music, Latin mass, choral music, SATB, orchestra, new composition",
  "url": "https://missaadastra.com/",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://missaadastra.com/"
  },
  "hasPart": [
    {
      "@type": "MusicComposition",
      "name": "Kyrie",
      "position": 1
    },
    {
      "@type": "MusicComposition",
      "name": "Gloria",
      "position": 2
    },
    {
      "@type": "MusicComposition",
      "name": "Credo",
      "position": 3
    },
    {
      "@type": "MusicComposition",
      "name": "Sanctus",
      "position": 4
    },
    {
      "@type": "MusicComposition",
      "name": "Agnus Dei",
      "position": 5
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebSite",
  "name": "Missa Ad Astra",
  "url": "https://missaadastra.com/",
  "description": "Official website for Missa Ad Astra, a contemporary sacred mass composition",
  "inLanguage": ["en", "pt"],
  "about": {
    "@type": "MusicComposition",
    "name": "Missa Ad Astra"
  }
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "MusicEvent",
  "name": "Missa Ad Astra - Christmas Concert",
  "description": "Between Virtuosity and Spirituality",
  "startDate": "2025-12-13T19:00:00+00:00",
  "endDate": "2025-12-13T21:00:00+00:00",
  "eventStatus": "https://schema.org/EventScheduled",
  "eventAttendanceMode": "https://schema.org/OfflineEventAttendanceMode",
  "location": {
    "@type": "Place",
    "name": "Church of St. Nicholas",
    "address": {
      "@type": "PostalAddress",
      "addressLocality": "Lisbon",
      "addressCountry": "PT"
    }
  },
  "performer": [
    {
      "@type": "MusicGroup",
      "name": "Orquestra Clássica do Centro"
    },
    {
      "@type": "MusicGroup",
      "name": "Coro Ricercare"
    }
  ],
  "workPerformed": {
    "@type": "MusicComposition",
    "name": "Missa Ad Astra"
  },
  "organizer": {
    "@type": "Organization",
    "name": "Égide – Portuguese Arts Association"
  }
}
</script>
	
    <!-- Language and SEO tags -->
    <link rel="canonical" href="https://missaadastra.com/">
    <link rel="alternate" hreflang="pt" href="https://missaadastra.com/pt/">
    <link rel="alternate" hreflang="en" href="https://missaadastra.com/">
    <link rel="alternate" hreflang="x-default" href="https://missaadastra.com/">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Cormorant Garamond', serif;
            color: #1a1a1a;
            line-height: 1.6;
            overflow-x: hidden;
        }

        .sans {
            font-family: 'Inter', sans-serif;
        }

        /* Language Selector */
        .language-selector {
            position: fixed;
            top: 1.2rem;
            right: 1.2rem;
			display: flex;
 			gap: 0.1rem;
            z-index: 1000;
            font-family: 'Inter', sans-serif;
            font-size: 0.75rem;
            font-weight: 400;
            letter-spacing: 0.05em;
            transition: all 0.3s ease;
        }

        .language-selector a {
            color: #fff;
            text-decoration: none;
            padding: 0 0.3rem;
            transition: opacity 0.3s ease;
        }

        .language-selector a:hover {
            opacity: 0.7;
        }

        .language-selector .divider {
            color: #fff;
            opacity: 0.4;
        }

        .language-selector .active {
            font-weight: 500;
            opacity: 1;
        }

        .language-selector .inactive {
            opacity: 0.6;
        }

        /* Adaptive color for language selector based on section */
        .language-selector.light a,
        .language-selector.light .divider {
            color: #1a1a1a;
        }

        .language-selector.light .divider {
            opacity: 0.3;
        }

        .language-selector.light .inactive {
            opacity: 0.5;
        }

        /* Hero Section with Generative Art */
        #hero {
            height: 100vh;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background: #000;
        }

        #canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .hero-content {
            position: relative;
            z-index: 10;
            text-align: center;
            color: #fff;
            pointer-events: none;
        }

        .hero-title {
            font-size: clamp(2.5rem, 8vw, 6rem);
            font-weight: 300;
            letter-spacing: 0.3em;
            margin-bottom: 2rem;
            text-transform: uppercase;
            animation: fadeIn 2s ease-in;
            /* Multi-layered shadow approach for maximum visibility */
            text-shadow: 0 0 12px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.5);
            /* Drop-shadow filter creates a glow that appears in front of canvas */
            filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.9)) 
                    drop-shadow(0 0 40px rgba(0, 0, 0, 0.6))
                    drop-shadow(0 0 8px rgba(0, 0, 0, 0.8));
        }

        .hero-subtitle {
            font-size: clamp(1rem, 2vw, 1.5rem);
            font-weight: 300;
            letter-spacing: 0.2em;
            opacity: 0;
            animation: fadeIn 2s ease-in 1s forwards;
            /* Multi-layered shadow approach for maximum visibility */
            text-shadow: 0 0 8px rgba(0, 0, 0, 0.9), 0 0 4px rgba(0, 0, 0, 0.7);
            /* Drop-shadow filter creates a glow that appears in front of canvas */
            filter: drop-shadow(0 0 16px rgba(0, 0, 0, 1)) 
                    drop-shadow(0 0 32px rgba(0, 0, 0, 0.7))
                    drop-shadow(0 0 6px rgba(0, 0, 0, 0.9));
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(10px); }
        }

        /* Music Player */
        .music-player {
            position: fixed;
            bottom: 30px;
            right: 30px;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(10px);
            padding: 12px 20px;
            z-index: 1000;
            font-family: 'Inter', sans-serif;
            font-size: 14px;
            color: #fff;
            min-width: 320px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        .music-player.light {
            background: rgba(255, 255, 255, 0);
            color: #1a1a1a;
        }

        .music-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .music-btn {
            width: 32px;
            height: 32px;
            background: none;
            border: none;
            color: #fff;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 0.3s ease, color 0.3s ease;
            opacity: 0.7;
        }

        .music-player.light .music-btn {
            color: #1a1a1a;
        }

        .music-btn:hover {
            opacity: 1;
        }

        .music-btn svg {
            width: 20px;
            height: 20px;
            fill: currentColor;
        }

        .music-btn.play-pause svg {
            width: 24px;
            height: 24px;
        }

        .progress-container {
            flex: 1;
            height: 2px;
            background: rgba(255, 255, 255, 0.2);
            position: relative;
            cursor: pointer;
            min-width: 100px;
            transition: background 0.3s ease;
        }

        .music-player.light .progress-container {
            background: rgba(0, 0, 0, 0.15);
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.8));
            width: 0%;
            transition: width 0.1s linear, background 0.3s ease;
        }

        .music-player.light .progress-bar {
            background: linear-gradient(90deg, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.7));
        }

        .song-name {
            font-weight: 300;
            letter-spacing: 0.05em;
            opacity: 0.9;
            min-width: 80px;
            text-align: right;
        }

        /* Section Base Styles */
        section {
            min-height: 100vh;
            padding: 5rem 2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .container {
            max-width: 1200px;
            width: 100%;
        }

        .section-title {
            font-size: clamp(2rem, 5vw, 3rem);
            letter-spacing: 0.2em;
            text-align: center;
            margin-bottom: 4rem;
            text-transform: uppercase;
        }

        /* Essence Section */
        #essence {
            background: #fafafa;
        }

        .essence-content {
            max-width: 900px;
            margin: 0 auto;
            text-align: center;
        }

        .essence-question {
            font-size: clamp(1.65rem, 4.4vw, 2.75rem);
            font-style: italic;
            margin-bottom: 3rem;
            color: #333;
        }

        .essence-body {
            font-size: clamp(1.21rem, 2.2vw, 1.43rem);
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .essence-divider {
            width: 60px;
            height: 1px;
            background: #999;
            border: none;
            margin: 3rem auto;
        }

        .essence-highlight {
            font-size: 1rem;
            font-weight: 700;
            color: #333;
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
        }

        .essence-details {
            font-size: 1rem;
            color: #666;
            margin-bottom: 2rem;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
            line-height: 1.8;
        }

        .movements {
            text-align: center;
            font-size: 1.1rem;
            letter-spacing: 0.1em;
            margin-top: 2rem;
            color: #999;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
        }

        /* Experience Section */
        #experience {
            background: #fff;
        }

        .experience-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 3rem;
            max-width: 900px;
            margin: 0 auto;
        }

        .experience-card {
            text-align: center;
            padding: 2rem;
            border: 1px solid #eee;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-decoration: none;
            color: inherit;
            display: block;
        }

        .experience-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        .experience-title {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 300;
        }

        .experience-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #1a1a1a;
        }

        .experience-subtitle {
            color: #666;
            font-size: 0.85rem;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
        }

        /* Words Section */
        #words {
            background: #f5f5f5;
        }

        .words-content {
            max-width: 1000px;
            margin: 0 auto;
        }

        .accordion {
            margin-bottom: 1rem;
        }

        .accordion-header {
            padding: 1.5rem 2rem;
            cursor: pointer;
            font-size: 1.65rem;
            transition: opacity 0.3s ease;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: transparent;
        }

        .accordion-header:hover {
            opacity: 0.8;
        }

        .accordion-arrow {
            transition: transform 0.3s ease;
            display: inline-block;
            width: 0;
            height: 0;
            border-left: 6px solid transparent;
            border-right: 6px solid transparent;
            border-top: 10px solid #1a1a1a;
        }

        .accordion.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            background: #fff;
        }

        .accordion.active .accordion-content {
            max-height: 2000px;
            padding: 2rem;
        }

        .text-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 3rem;
        }

        .latin-column, .english-column {
            text-align: left;
        }

        .text-block {
            margin-bottom: 1.5rem;
        }

        .text-block:last-child {
            margin-bottom: 0;
        }

        .latin-column .text-block {
            font-size: 1.43rem;
            line-height: 1.4;
            font-style: italic;
        }

        .latin-column .text-block.roman {
            font-style: normal;
        }

        .english-column .text-block {
            font-size: 1.05rem;
            line-height: 1.9;
            color: #666;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
        }

        .english-column .text-block.italic {
            font-style: italic;
        }

        /* Voices Section with Carousel */
        #voices {
            background: #fff;
			    text-align: center;
        }

        .testimonial-carousel {
    max-width: 800px;
    margin: 0 auto;
    position: relative;
    min-height: 400px; 
    display: flex;
    flex-direction: column;
    align-items: center;
}

.testimonial-wrapper {
    position: relative;
    width: 100%;
    min-height: 300px; 
    display: flex;
    align-items: center;     
    justify-content: center;  
    text-align: center;
}

.testimonial {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
    pointer-events: none;
    text-align: center; 
}

.testimonial.active {
    opacity: 1;
    pointer-events: auto;
    z-index: 2;
}

        .testimonial-quote {
            font-size: clamp(1.43rem, 3.3vw, 1.98rem);
            font-style: italic;
            margin-bottom: 1.5rem;
            line-height: 1.8;
        }

        .testimonial-quote::before {
            content: '"';
        }

        .testimonial-quote::after {
            content: '"';
        }

        .testimonial-divider {
            width: 60px;
            height: 1px;
            background: #999;
            border: none;
            margin: 2rem auto;
        }

        .testimonial-author {
            font-size: 1.21rem;
            font-weight: 500;
            margin-bottom: 0.3rem;
            font-family: 'Inter', sans-serif;
            color: #1a1a1a;
        }

        .testimonial-role {
            font-size: 1.1rem;
            color: #666;
        }

.testimonial-dots {
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    margin-top: 7rem;
}

        .testimonial-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: #ddd;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .testimonial-dot.active {
            background: #333;
        }

        .testimonial-dot:hover {
            background: #666;
        }

        /* Performances Section */
        #performances {
            background: #fafafa;
        }

        .performances-container {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .performance-preview {
            margin-bottom: 2rem;
        }

        .performance-status {
            font-size: 0.9rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 1.5rem;
            font-family: 'Inter', sans-serif;
            font-weight: 400;
            color: #666;
        }

        .performance-date {
            font-size: clamp(1.98rem, 4.4vw, 2.75rem);
            margin-bottom: 0.5rem;
        }

        .performance-location {
            font-size: 1.21rem;
            color: #999;
            font-family: 'Inter', sans-serif;
            margin-bottom: 2rem;
        }

        .performance-details {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease;
            margin-bottom: 2rem;
        }

        .performance-details.expanded {
            max-height: 1000px;
        }

        .details-content {
            padding: 2.5rem;
            background: #fff;
            border-radius: 8px;
            text-align: left;
            margin-top: 2rem;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .detail-row {
            margin-bottom: 2rem;
        }

        .detail-row:last-child {
            margin-bottom: 0;
        }

        .detail-label {
            font-family: 'Inter', sans-serif;
            font-size: 0.85rem;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: #999;
            margin-bottom: 0.7rem;
        }

        .detail-value {
            font-size: 1.1rem;
            color: #333;
            line-height: 1.6;
        }

        .detail-value.italic {
            font-style: italic;
        }

        .promoters-list {
            line-height: 1.8;
        }

        .performers-list {
            line-height: 1.8;
        }

        .performance-cta {
            display: inline-block;
            padding: 0.8rem 2rem;
            border: 1px solid #1a1a1a;
            text-decoration: none;
            color: #1a1a1a;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            transition: all 0.3s ease;
            cursor: pointer;
            background: transparent;
        }

        .performance-cta:hover {
            background: #1a1a1a;
            color: #fff;
        }

        .performance-nav {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .nav-arrow {
            cursor: pointer;
            font-size: 1.5rem;
            padding: 0.5rem;
            transition: opacity 0.3s ease;
        }

        .nav-arrow:hover:not(.disabled) {
            opacity: 0.7;
        }

        .nav-arrow.disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .nav-counter {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: #666;
        }

        /* Connect Section */
        #connect {
            background: #000;
            color: #fff;
        }

        .connect-content {
            max-width: 700px;
            margin: 0 auto;
            text-align: center;
        }

        .connect-title {
            font-size: clamp(2rem, 5vw, 3rem);
            letter-spacing: 0.2em;
            margin-bottom: 3rem;
            text-transform: uppercase;
        }

        .connect-intro {
            font-size: 1.43rem;
            margin-bottom: 2rem;
            font-style: italic;
        }

        .connect-email {
            font-size: 1.1rem;
            color: #fff;
            text-decoration: none;
            border-bottom: 1px solid transparent;
            transition: border-color 0.3s ease;
            display: inline-block;
            margin-bottom: 3rem;
            font-family: 'Inter', sans-serif;
            letter-spacing: 0.03em;
        }

        .connect-email:hover {
            border-bottom-color: #fff;
        }

        .composers {
            font-size: 1.21rem;
            color: #999;
            margin-top: 4rem;
            padding-top: 3rem;
            position: relative;
        }

        .composers::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 1px;
            background: #555;
        }

        .copyright {
            font-size: 0.7rem;
            color: #555;
            margin-top: 2rem;
            font-family: 'Inter', sans-serif;
            font-weight: 300;
        }

        /* Navigation Dots */
        .nav-dots {
            position: fixed;
            right: 2rem;
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
        }

        .nav-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin: 1rem 0;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .text-columns {
                grid-template-columns: 1fr;
                gap: 2rem;
            }
            
            .experience-grid {
                grid-template-columns: 1fr;
            }
            
            .nav-dots {
                display: none;
            }

            .language-selector {
                top: 1rem;
                right: 1rem;
            }

            .hero-title {
                text-shadow: 0 0 12px rgba(0, 0, 0, 0.7), 0 0 6px rgba(0, 0, 0, 0.5);
                filter: drop-shadow(0 0 20px rgba(0, 0, 0, 0.9)) 
                        drop-shadow(0 0 40px rgba(0, 0, 0, 0.6))
                        drop-shadow(0 0 8px rgba(0, 0, 0, 0.8));
            }

            .hero-subtitle {
                text-shadow: 0 0 8px rgba(0, 0, 0, 1), 0 0 4px rgba(0, 0, 0, 0.8);
                filter: drop-shadow(0 0 16px rgba(0, 0, 0, 1)) 
                        drop-shadow(0 0 32px rgba(0, 0, 0, 0.7))
                        drop-shadow(0 0 6px rgba(0, 0, 0, 0.9));
            }
        }
    </style>
</head>
<body>
    <!-- Language Selector -->
    <div class="language-selector" id="langSelector">
        <a href="/" class="active" aria-current="page">EN</a>
        <span class="divider" aria-hidden="true">|</span>
        <a href="/pt/" class="inactive" hreflang="pt">PT</a>
    </div>

    <!-- Navigation Dots -->
    <div class="nav-dots">
        <div class="nav-dot" onclick="scrollToSection('hero')"></div>
        <div class="nav-dot" onclick="scrollToSection('essence')"></div>
        <div class="nav-dot" onclick="scrollToSection('experience')"></div>
        <div class="nav-dot" onclick="scrollToSection('words')"></div>
        <div class="nav-dot" onclick="scrollToSection('voices')"></div>
        <div class="nav-dot" onclick="scrollToSection('performances')"></div>
        <div class="nav-dot" onclick="scrollToSection('connect')"></div>
    </div>

    <!-- Hero Section with Enhanced Animation -->
    <section id="hero">
        <canvas id="canvas"></canvas>
        <div class="hero-content">
            <h1 class="hero-title">MISSA AD ASTRA</h1>
            <p class="hero-subtitle">A Contemporary Sacred Manifesto</p>
        </div>
    </section>

    <!-- Music Player -->
    <div class="music-player">
        <div class="music-controls">
            <button class="music-btn play-pause" id="playPauseBtn" aria-label="Play/Pause">
                <svg id="playIcon" viewBox="0 0 24 24">
                    <path d="M8 5v14l11-7z"/>
                </svg>
                <svg id="pauseIcon" viewBox="0 0 24 24" style="display:none;">
                    <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
                </svg>
            </button>
            <button class="music-btn" id="prevBtn" aria-label="Previous">
                <svg viewBox="0 0 24 24">
                    <path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/>
                </svg>
            </button>
            <button class="music-btn" id="nextBtn" aria-label="Next">
                <svg viewBox="0 0 24 24">
                    <path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/>
                </svg>
            </button>
        </div>
        <div class="progress-container" id="progressContainer">
            <div class="progress-bar" id="progressBar"></div>
        </div>
        <div class="song-name" id="songName">Ready</div>
    </div>

    <!-- Essence Section -->
    <section id="essence">
        <div class="container">
            <div class="essence-content">
                <p class="essence-question">What does it mean to write with blood?</p>
                <p class="essence-body">
                    Twenty-five years in the making, Missa Ad Astra is a contemporary mass unlike any other. 
                    Composer Rui Paulo Teixeira and writer Alvaro Aspera didn't simply create new settings 
                    of traditional texts. They made a sacred promise to themselves: to "write with blood" – to 
                    write only what they had lived, what they had earned through experience, what had become 
                    undeniably true.
                </p>
                <p class="essence-body">
                    Each movement waited to be born until its truth had been lived.
                </p>
                <hr class="essence-divider">
                <p class="essence-highlight">Traditional in structure, revolutionary in spirit.</p>
                <p class="essence-details">
                    Entirely new Latin texts. Original music for SATB soloists, mixed choir with water-tuned glasses, and orchestra with basso continuo. Also on period instruments. 25 minutes duration.
                </p>
                <p class="movements">KYRIE · GLORIA · CREDO · SANCTUS · AGNUS DEI</p>
            </div>
        </div>
    </section>

    <!-- Experience Section -->
    <section id="experience">
        <div class="container">
            <h2 class="section-title">Experience</h2>
            <div class="experience-grid">
                <a href="https://vimeo.com/1131225719/153093b0c9?share=copy#t=2305.903" target="_blank" rel="noopener noreferrer" class="experience-card">
                    <h3 class="experience-title">Watch</h3>
                    <div class="experience-icon">▶</div>
                    <p class="experience-subtitle">Experience the world premiere performance</p>
                </a>
                <a href="https://ruipauloteixeira.bandcamp.com/track/missa-ad-astra-complete-work" target="_blank" rel="noopener noreferrer" class="experience-card">
                    <h3 class="experience-title">Listen</h3>
                    <div class="experience-icon">♫</div>
                    <p class="experience-subtitle">Immerse yourself in the complete recording</p>
                </a>

            </div>
        </div>
    </section>

    <!-- Words Section -->
    <section id="words">
        <div class="container">
            <h2 class="section-title">The Words</h2>
            <div class="words-content">
                <!-- Kyrie -->
                <div class="accordion">
                    <div class="accordion-header">
                        Kyrie
                        <span class="accordion-arrow"></span>
                    </div>
                    <div class="accordion-content">
                        <div class="text-columns">
                            <div class="latin-column">
                                <div class="text-block">Rosa florat.</div>
                                <div class="text-block">Solitudo.<br>Ad nos fama Patris est.</div>
                                <div class="text-block">Christe eleison.</div>
                                <div class="text-block">Solitudo.<br>In nos gladius fixus est.</div>
                                <div class="text-block">Kyrie eleison.</div>
                            </div>
                            <div class="english-column">
                                <div class="text-block">Oh Rose, blossom...</div>
                                <div class="text-block">All is emptiness.<br>We hear our Father. Is He calling us?</div>
                                <div class="text-block">Oh Christ! Have mercy.</div>
                                <div class="text-block">All is loneliness.<br>In us a blade has been stabbed.</div>
                                <div class="text-block">Lord, do You hear our cry?</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Gloria -->
                <div class="accordion">
                    <div class="accordion-header">
                        Gloria
                        <span class="accordion-arrow"></span>
                    </div>
                    <div class="accordion-content">
                        <div class="text-columns">
                            <div class="latin-column">
                                <div class="text-block">Pater ex naturam omnem<br>et Filius in animi core<br>hominibus lucent exanclatis.</div>
                                <div class="text-block">Laudamus te benedicimus te<br>Sol qui rapuit nos.</div>
                                <div class="text-block">Gloria in excelsis Deo<br>et Pax in intimo Templo<br>hominibus bonae voluntatis.</div>
                                <div class="text-block">Adoramus te glorificamus te<br>Sol qui rapuit nos.</div>
                            </div>
                            <div class="english-column">
                                <div class="text-block">The Father who lies beyond all Creation,<br>and the Son in the core of the soul,<br>shine upon exhausted men.</div>
                                <div class="text-block">We praise You, we bless You,<br>Oh, Sun who has enraptured us!</div>
                                <div class="text-block">Glory to God in the highest<br>and Peace in the innermost Sanctum<br>to men of good will.</div>
                                <div class="text-block">We adore You, we glorify You,<br>Oh, Sun who has enraptured us!</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Credo -->
                <div class="accordion">
                    <div class="accordion-header">
                        Credo
                        <span class="accordion-arrow"></span>
                    </div>
                    <div class="accordion-content">
                        <div class="text-columns">
                            <div class="latin-column">
                                <div class="text-block roman">Quia signum meum etiam Ignis est</div>
                                <div class="text-block">Credo in unum deum<br>Patrem me omnipotentem<br>oblitus at semper proximus<br>verum factorem coeli et terrae<br>in quo reveniunt omnia.</div>
                                <div class="text-block">Expergo in lucem mundi<br>deum verum de vero<br>Filium Dei in Golgotha Christus<br>mortuum in me et sepultum<br>ad summum ressurrectum in excelsis.</div>
                                <div class="text-block">Et nunc diem ex die occidit natura<br>in me se liberat aeternum mundum<br>magnificentiam ex magnificentia per Spiritum Sanctum<br>revenio in Unam Sanctam secundum scripturas.<br>Dei Gloria Intacta.</div>
                                <div class="text-block">Pater, consummatum est.</div>
                            </div>
                            <div class="english-column">
                                <div class="text-block italic">For Fire, too, is my sign</div>
                                <div class="text-block">I believe in one God,<br>the Father and the might in everything that exists,<br>forgotten by me and yet always close,<br>true maker of heaven and earth,<br>to whom everything shall return.</div>
                                <div class="text-block">I wake up in the Light of the world,<br>true God from the true God,<br>the Son of God dead in me and buried,<br>risen in the Sanctum of the Head, at last!<br>Christ in splendor!</div>
                                <div class="text-block">And now I die day after day,<br>in me the eternal world frees itself,<br>from magnificence to magnificence, by the Holy Spirit,<br>I return Home according to the scriptures.<br>The Untouched Glory of God is now Perfect.</div>
                                <div class="text-block">Father, it's done.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Sanctus -->
                <div class="accordion">
                    <div class="accordion-header">
                        Sanctus
                        <span class="accordion-arrow"></span>
                    </div>
                    <div class="accordion-content">
                        <div class="text-columns">
                            <div class="latin-column">
                                <div class="text-block">Sanctus! Sanctus! Sanctus!</div>
                                <div class="text-block">Nunc in excelsis advenisti,<br>In oblivio nos relinques?</div>
                                <div class="text-block">Sanctus! Sanctus! Sanctus!</div>
                                <div class="text-block">Tu qui ad fugam ultra finiens orbis abdicasti<br>Et dolorem innefabilem secretae vitae elegisti.</div>
                                <div class="text-block">Sanctum est Nomen Tuum.<br>Sanctum est Silentium Tuum.<br>Pleni sunt caeli et terra gloria tua!</div>
                                <div class="text-block">(Hosanna in excelsis)<br>Benedictus qui venit in nomine Domini.</div>
                                <div class="text-block">Tu Vivis.</div>
                            </div>
                            <div class="english-column">
                                <div class="text-block">Holy! Holy! Oh Blessed One!</div>
                                <div class="text-block">Now that you have come to the highest of the blue sky,<br>Are you going to leave us in oblivion?</div>
                                <div class="text-block">Holy! Holy! Oh Blessed One!</div>
                                <div class="text-block">You who have renounced vanishing from sight beyond the ends of the earth,<br>And have chosen the ineffable pain of the Secret Life.</div>
                                <div class="text-block">Holy is Your Name.<br>Holy is Your Silence.<br>Heavens and earth are full of your glory!</div>
                                <div class="text-block">(Hosanna in excelsis)<br>Blessed is he who comes in the name of the Lord.</div>
                                <div class="text-block">You are the Living One.</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Agnus Dei -->
                <div class="accordion">
                    <div class="accordion-header">
                        Agnus Dei
                        <span class="accordion-arrow"></span>
                    </div>
                    <div class="accordion-content">
                        <div class="text-columns">
                            <div class="latin-column">
                                <div class="text-block">Agnus Dei,<br>Qui tollis peccata mundi,<br>Miserere nobis.</div>
                                <div class="text-block">Tu qui Vitam Lucem decedisti,<br>Tu qui Viam Crucem eligisti,<br>Miserere nobis.</div>
                                <div class="text-block">Agnus Dei,<br>Qui tollis peccata mundi,<br>Dona nobis pacem.</div>
                                <div class="text-block">In nos gladius fixus est,<br>Ad nos fama Patris est,<br>Dona nobis pacem.</div>
                                <div class="text-block">Rosa florat!</div>
                            </div>
                            <div class="english-column">
                                <div class="text-block">Lamb of God,<br>Who takes away the sins of the world,<br>Have mercy on us.</div>
                                <div class="text-block">You who renounced your Divine Life,<br>You who have chosen the Way of the Cross,<br>Have mercy on us.</div>
                                <div class="text-block">Lamb of God,<br>Who takes away the sins of the world,<br>Grant us your inner peace.</div>
                                <div class="text-block">In us a blade has been stabbed.<br>We hear our Father. Is He calling us?<br>Grant us your inner peace.</div>
                                <div class="text-block">Oh Rose... blossom!</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Voices Section -->
    <section id="voices">
        <div class="container">
            <h2 class="section-title">Voices</h2>
            <div class="testimonial-carousel">
		<div class="testimonial-wrapper">
                <div class="testimonial active" data-index="0">
                    <p class="testimonial-quote">
                        Rui Paulo Teixeira writes with a truly silken hand that goes directly 
                        to the interior of each person... He truly manages to bring out the 
                        best in us through this music.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Sergio Alapont</p>
                    <p class="testimonial-role">Musical Director, Orquestra Clássica do Centro</p>
                </div>
                <div class="testimonial" data-index="1">
                    <p class="testimonial-quote">
                        This is more than an exercise: it is a Work of Art. This work 
                        restores our sense of wonder before the Mystery.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Father Joaquim Ganhão</p>
                    <p class="testimonial-role">Director of the Liturgy Department, Sanctuary of Fátima</p>
                </div>
                <div class="testimonial" data-index="2">
                    <p class="testimonial-quote">
                        The experience of singing this text is truly sublime.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Pedro Teixeira</p>
                    <p class="testimonial-role">Choir Conductor, Coro Ricercare</p>
                </div>
                <div class="testimonial" data-index="3">
                    <p class="testimonial-quote">
                        The decision to compose a Mass demonstrates a desire to provide, 
                        beyond musical enjoyment, a spiritual experience – beyond the routines 
                        and hustle of everyday life.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Father Carlos Cabecinhas</p>
                    <p class="testimonial-role">Rector of the Sanctuary of Fátima</p>
                </div>
                <div class="testimonial" data-index="4">
                    <p class="testimonial-quote">
                        We are touching souls, in an act of unprecedented modernity.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Sergio Alapont</p>
                    <p class="testimonial-role">Musical Director, Orquestra Clássica do Centro</p>
                </div>
                <div class="testimonial" data-index="5">
                    <p class="testimonial-quote">
                        Premiering a mass with these characteristics is a major event.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Pedro Teixeira</p>
                    <p class="testimonial-role">Choir Conductor, Coro Ricercare</p>
                </div>
                <div class="testimonial active" data-index="6">
                    <p class="testimonial-quote">
                        Your music, together with his texts, became for me a form of contemporary spirituality. Together, they united the very best of the Christian message with what it ought to be in our time.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Maria João Gomes</p>
                    <p class="testimonial-role">Mezzo-soprano, Soloist at the premiere</p>
                </div>
                <div class="testimonial active" data-index="7">
                    <p class="testimonial-quote">
                        It fills me with joy to see sacred music celebrated so beautifully in these times that have become so desacralized. How good it is to bring it to that sanctuary of encounter and silence.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Margarida Mendes</p>
                    <p class="testimonial-role">From the Board of Associação Ricercare</p>
                </div>
                <div class="testimonial active" data-index="8">
                    <p class="testimonial-quote">
                        My sincere congratulations on the Mass you composed – with a musicality, expression, emotion and modernity that, in my opinion, speaks to any elite… it was thrilling to hear!!!
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Lídia Correia</p>
                    <p class="testimonial-role">Organist, in the audience at the premiere</p>
                </div>
                <div class="testimonial active" data-index="9">
                    <p class="testimonial-quote">
                        In the Sanctus, it felt to me as though the Angels were descending down to us.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Uriel Teixeira</p>
                    <p class="testimonial-role">Young audience member</p>
                </div>
                <div class="testimonial active" data-index="10">
                    <p class="testimonial-quote">
                        A work that lifts our hearts!
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Nuno Mendes</p>
                    <p class="testimonial-role">Bass, Soloist at the premiere</p>
                </div>
                <div class="testimonial active" data-index="11">
                    <p class="testimonial-quote">
                        For me it was deeply moving – and an enormous pleasure – to be able to perform this great work again. I truly feel privileged to have taken part in two excellent concerts, both with full audiences!
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Tiago Sousa</p>
                    <p class="testimonial-role">Tenor, Soloist at the premiere</p>
                </div>
                <div class="testimonial active" data-index="12">
                    <p class="testimonial-quote">
                        Rui Paulo Teixeira’s art awakens and touches the soul of those who listen and those who perform it! With Missa Ad Astra, he transcribed the divine into music! Absolutely sublime!
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Eva Braga Simões</p>
                    <p class="testimonial-role">Soprano, Soloist at the premiere</p>
                </div>
                <div class="testimonial active" data-index="13">
                    <p class="testimonial-quote">
                        It is striking how freely the author revisits and re-presents the core themes, guiding the initial motif – Rosa florat – into a cosmic and spiritual resonance.
                    </p>
                    <hr class="testimonial-divider">
                    <p class="testimonial-author">Father Joaquim Ganhão</p>
                    <p class="testimonial-role">Director of the Liturgy Department, Sanctuary of Fátima</p>
                </div>
   		</div>
				<div class="testimonial-dots">
                    <span class="testimonial-dot active" onclick="goToTestimonial(0)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(1)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(2)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(3)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(4)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(5)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(6)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(7)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(8)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(9)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(10)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(11)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(12)"></span>
                    <span class="testimonial-dot" onclick="goToTestimonial(13)"></span>
                </div>
            </div>
        </div>
    </section>

    <!-- Performances Section -->
    <section id="performances">
        <div class="container">
            <h2 class="section-title">Performances</h2>
            <div class="performances-container">
                <div class="performance-preview">
                    <p class="performance-status" id="performanceStatus">LATEST PERFORMANCE</p>
                    <p class="performance-date" id="performanceDate">December 13, 2025</p>
                    <p class="performance-location" id="performanceLocation">Lisbon, Portugal</p>
                    <button class="performance-cta" id="detailsBtn" onclick="toggleDetails()">See Details</button>
                    <div class="performance-details" id="performanceDetails">
                        <div class="details-content" id="detailsContent">
                            <!-- Details will be dynamically inserted here -->
                        </div>
                    </div>
                </div>
                <div class="performance-nav">
                    <span class="nav-arrow" id="prevArrow">←</span>
                    <span class="nav-counter" id="navCounter">4 / 4</span>
                    <span class="nav-arrow" id="nextArrow">→</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Connect Section -->
    <section id="connect">
        <div class="container">
            <div class="connect-content">
                <h2 class="connect-title">Missa Ad Astra</h2>
                <p class="connect-intro">For performance inquiries, sheet music, or press materials:</p>
                <a href="mailto:contact@missaadastra.com" class="connect-email">contact@missaadastra.com</a>
                <p class="composers">
                    1999-2024<br>
                    Rui Paulo Teixeira · Music<br>
                    Alvaro Aspera · Text
                </p>
                <p class="copyright">© 2026 All rights reserved</p>
            </div>
        </div>
    </section>

    <script>
        // Language selector color adaptation
        window.addEventListener('scroll', () => {
            const langSelector = document.getElementById('langSelector');
            const scrollPosition = window.scrollY + 100;
            
            const sections = document.querySelectorAll('section');
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                    if (section.id === 'hero' || section.id === 'connect') {
                        langSelector.classList.remove('light');
                    } else {
                        langSelector.classList.add('light');
                    }
                }
            });
        });

        // Enhanced Animation Script (from missa-animation-1-kyrie-enhanced-v2-with-rotation.html)
        const songs = [
            { name: 'Kyrie', url: 'https://www.missaadastra.com/assets/Exc1_KYRIE_25s.mp3', duration: 25 },
            { name: 'Gloria', url: 'https://www.missaadastra.com/assets/Exc2_GLORIA_39s.mp3', duration: 39 },
            { name: 'Credo', url: 'https://www.missaadastra.com/assets/Exc3_CREDO_59s.mp3', duration: 59 },
            { name: 'Sanctus', url: 'https://www.missaadastra.com/assets/Exc4_SANCTUS_1m04s.mp3', duration: 64 },
            { name: 'Agnus Dei', url: 'https://www.missaadastra.com/assets/Exc5_AGNUSDEI_1m49s.mp3', duration: 109 }
        ];

        let currentSong = 0;
        let isPlaying = false;
        let currentAudio = null;
        let breathingPhase = 0;
        let currentShootingStar = null;
        let lastShootingStarTime = 0;
        
        currentAudio = new Audio();
        currentAudio.preload = 'auto';

        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        
        let mouseX = 0;
        let mouseY = 0;
        let prevMouseX = 0;
        let prevMouseY = 0;
        let mouseSpeed = 0;
        const speedThreshold = 3;
        
        function resizeCanvas() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            mouseX = canvas.width / 2;
            mouseY = canvas.height / 2;
            prevMouseX = mouseX;
            prevMouseY = mouseY;
        }
        
        resizeCanvas();
        window.addEventListener('resize', resizeCanvas);
        
        const particles = [];
        const backgroundStars = [];
        const particleCount = 150;
        const backgroundStarCount = 2500;
        const connectionDistance = 150;
        
        let starfieldRotation = 0;
        const rotationSpeed = 0.0001;

        class BackgroundStar {
            constructor() {
                this.baseX = Math.random() * canvas.width;
                this.baseY = Math.random() * canvas.height;
                this.x = this.baseX;
                this.y = this.baseY;
                
                this.size = Math.random() * 1.6 + 0.2;
                this.depth = (this.size - 0.2) / 1.6;
                
                const brightness = Math.random();
                if (brightness < 0.5) {
                    this.baseOpacity = Math.random() * 0.17 + 0.08;
                } else if (brightness < 0.8) {
                    this.baseOpacity = Math.random() * 0.2 + 0.25;
                } else {
                    this.baseOpacity = Math.random() * 0.25 + 0.45;
                }
                
                this.opacity = this.baseOpacity;
                this.isPulsing = Math.random() < 0.3;
                this.twinkleSpeed = Math.random() * 0.0018 + 0.0005;
                this.twinklePhase = Math.random() * Math.PI * 2;
                
                this.trail = [];
                this.maxTrailLength = Math.floor(3 + this.depth * 5);
            }

            update() {
                if (this.isPulsing) {
                    this.twinklePhase += this.twinkleSpeed;
                    const pulse = Math.sin(this.twinklePhase);
                    this.opacity = this.baseOpacity * (0.6 + pulse * 0.4);
                }
                
                const centerX = canvas.width / 2;
                const centerY = canvas.height / 2;
                
                const dx = this.baseX - centerX;
                const dy = this.baseY - centerY;
                
                const cosAngle = Math.cos(starfieldRotation);
                const sinAngle = Math.sin(starfieldRotation);
                
                const rotatedX = dx * cosAngle - dy * sinAngle;
                const rotatedY = dx * sinAngle + dy * cosAngle;
                
                this.x = centerX + rotatedX;
                this.y = centerY + rotatedY;
                
                if (mouseSpeed > speedThreshold && this.depth > 0.3) {
                    this.trail.push({
                        x: this.x,
                        y: this.y,
                        opacity: this.opacity * 0.6
                    });
                    
                    if (this.trail.length > this.maxTrailLength) {
                        this.trail.shift();
                    }
                } else {
                    if (this.trail.length > 0) {
                        this.trail.shift();
                    }
                }
            }

            draw() {
                if (this.trail.length > 1) {
                    for (let i = 0; i < this.trail.length - 1; i++) {
                        const trailPoint = this.trail[i];
                        const fadeRatio = i / this.trail.length;
                        const trailOpacity = trailPoint.opacity * fadeRatio * 0.5;
                        const trailSize = this.size * (0.3 + fadeRatio * 0.7);
                        
                        ctx.fillStyle = `rgba(200, 220, 255, ${trailOpacity})`;
                        ctx.beginPath();
                        ctx.arc(trailPoint.x, trailPoint.y, trailSize, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                let brightnessBoost = 0;
                if (mouseX !== null && mouseY !== null) {
                    const dx = mouseX - this.x;
                    const dy = mouseY - this.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const glowRadius = 150;
                    
                    if (distance < glowRadius) {
                        brightnessBoost = (1 - distance / glowRadius) * 0.5;
                    }
                }
                
                const r = 200 + brightnessBoost * 55;
                const g = 220 + brightnessBoost * 35;
                const b = 255;
                const finalOpacity = Math.min(1, this.opacity + brightnessBoost);
                
                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${finalOpacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        class Particle {
            constructor(index) {
                this.index = index;
                this.reset();
                this.isShootingStar = false;
                this.shootingAngle = 0;
                this.shootingSpeed = 0;
                this.trail = [];
            }

            reset() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;
                this.baseX = this.x;
                this.baseY = this.y;
                this.size = Math.random() * 2 + 1;
                this.baseSize = this.size;
                this.speedX = 0;
                this.speedY = 0;
                this.opacity = Math.random() * 0.5 + 0.5;
            }
            
            update() {
                breathingPhase += 0.00015;
                const breathAmount = Math.sin(breathingPhase) * 0.08 + 1.0;
                
                if (!this.isShootingStar) {
                    const centerX = canvas.width / 2;
                    const centerY = canvas.height / 2;
                    const dx = this.baseX - centerX;
                    const dy = this.baseY - centerY;
                    
                    const targetX = this.baseX + (dx * (breathAmount - 1) * 0.4);
                    const targetY = this.baseY + (dy * (breathAmount - 1) * 0.4);
                    
                    this.x += (targetX - this.x) * 0.02;
                    this.y += (targetY - this.y) * 0.02;
                    
                    this.speedX = 0;
                    this.speedY = 0;
                } else {
                    this.x += Math.cos(this.shootingAngle) * this.shootingSpeed;
                    this.y += Math.sin(this.shootingAngle) * this.shootingSpeed;
                    
                    this.trail.push({ x: this.x, y: this.y, opacity: this.opacity });
                    if (this.trail.length > 12) {
                        this.trail.shift();
                    }
                    
                    if (this.x < -50 || this.x > canvas.width + 50 || 
                        this.y < -50 || this.y > canvas.height + 50) {
                        this.isShootingStar = false;
                        currentShootingStar = null;
                        this.trail = [];
                        this.reset();
                    }
                }
                
                this.size = this.baseSize;
            }
            
            draw() {
                const r = 200;
                const g = 220;
                const b = 255;
                
                if (this.isShootingStar && this.trail.length > 1) {
                    for (let i = 0; i < this.trail.length - 1; i++) {
                        const point = this.trail[i];
                        const alpha = (i / this.trail.length) * point.opacity * 0.5;
                        ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${alpha})`;
                        ctx.beginPath();
                        ctx.arc(point.x, point.y, this.size * 0.8, 0, Math.PI * 2);
                        ctx.fill();
                    }
                }
                
                ctx.fillStyle = `rgba(${r}, ${g}, ${b}, ${this.opacity})`;
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
                ctx.fill();
            }
        }

        function initParticles() {
            particles.length = 0;
            backgroundStars.length = 0;
            
            for (let i = 0; i < particleCount; i++) {
                particles.push(new Particle(i));
            }
            
            for (let i = 0; i < backgroundStarCount; i++) {
                backgroundStars.push(new BackgroundStar());
            }
        }

        function drawInverseBreathingGradient() {
            const centerX = canvas.width / 2;
            const centerY = canvas.height / 2;
            const maxRadius = Math.sqrt(centerX * centerX + centerY * centerY);
            
            const breathAmount = Math.sin(breathingPhase) * 0.08 + 1.0;
            const breathFactor = (breathAmount - 0.92) / 0.16;
            const opacityMultiplier = breathFactor;
            
            const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, maxRadius);
            
            gradient.addColorStop(0, `rgba(7, 22, 48, ${0.85 * opacityMultiplier})`);
            gradient.addColorStop(0.25, `rgba(7, 22, 48, ${0.7 * opacityMultiplier})`);
            gradient.addColorStop(0.5, `rgba(5, 15, 35, ${0.5 * opacityMultiplier})`);
            gradient.addColorStop(0.75, `rgba(2, 8, 20, ${0.3 * opacityMultiplier})`);
            gradient.addColorStop(1, 'rgba(0, 0, 0, 0.1)');
            
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
        }

        function checkShootingStar() {
            if (!currentShootingStar) {
                const currentTime = Date.now();
                if (currentTime - lastShootingStarTime > 2000) {
                    if (Math.random() > 0.99) {
                        const particleIndex = Math.floor(Math.random() * particles.length);
                        const particle = particles[particleIndex];
                        particle.isShootingStar = true;
                        particle.trail = [];
                        currentShootingStar = particle;
                        lastShootingStarTime = currentTime;
                        
                        const angleOptions = [
                            Math.PI * 0.15, Math.PI * 0.25, Math.PI * 0.35,
                            Math.PI * 0.65, Math.PI * 0.75, Math.PI * 0.85,
                            -Math.PI * 0.15, -Math.PI * 0.25, -Math.PI * 0.35,
                            -Math.PI * 0.65, -Math.PI * 0.75, -Math.PI * 0.85
                        ];
                        particle.shootingAngle = angleOptions[Math.floor(Math.random() * angleOptions.length)];
                        particle.shootingSpeed = 3 + Math.random() * 2;
                    }
                }
            }
        }

        function animateParticles() {
            ctx.fillStyle = '#000';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            drawInverseBreathingGradient();
            
            starfieldRotation += rotationSpeed;
            
            const dx = mouseX - prevMouseX;
            const dy = mouseY - prevMouseY;
            mouseSpeed = Math.sqrt(dx * dx + dy * dy);
            prevMouseX = mouseX;
            prevMouseY = mouseY;
            
            backgroundStars.forEach(star => {
                star.update();
                star.draw();
            });
            
            checkShootingStar();
            
            let connectionCount = 0;
            const maxConnections = 50;
            
            for (let i = 0; i < particles.length && connectionCount < maxConnections; i++) {
                for (let j = i + 1; j < particles.length && connectionCount < maxConnections; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < connectionDistance) {
                        const opacity = (1 - distance / connectionDistance) * 0.3;
                        ctx.strokeStyle = `rgba(70, 130, 255, ${opacity})`;
                        ctx.lineWidth = 1;
                        ctx.beginPath();
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                        connectionCount++;
                    }
                }
            }
            
            particles.forEach(particle => {
                particle.update();
                particle.draw();
            });
            
            requestAnimationFrame(animateParticles);
        }

        initParticles();
        animateParticles();

        canvas.addEventListener('mousemove', (e) => {
            const rect = canvas.getBoundingClientRect();
            mouseX = e.clientX - rect.left;
            mouseY = e.clientY - rect.top;
        });

        canvas.addEventListener('mouseleave', () => {
            mouseX = canvas.width / 2;
            mouseY = canvas.height / 2;
        });

        // Music Player Functions
        function loadSong(index) {
            currentSong = index;
            currentAudio.src = songs[index].url;
            currentAudio.load();
            document.getElementById('songName').textContent = songs[index].name;
        }

        function togglePlayPause() {
            if (isPlaying) {
                currentAudio.pause();
                isPlaying = false;
            } else {
                currentAudio.play();
                isPlaying = true;
            }
            
            document.getElementById('playIcon').style.display = isPlaying ? 'none' : 'block';
            document.getElementById('pauseIcon').style.display = isPlaying ? 'block' : 'none';
        }

        function playNext() {
            currentSong = (currentSong + 1) % songs.length;
            loadSong(currentSong);
            if (isPlaying) {
                currentAudio.play();
            }
        }

        function playPrevious() {
            currentSong = (currentSong - 1 + songs.length) % songs.length;
            loadSong(currentSong);
            if (isPlaying) {
                currentAudio.play();
            }
        }

        function updateProgress() {
            if (currentAudio.duration) {
                const progress = (currentAudio.currentTime / currentAudio.duration) * 100;
                document.getElementById('progressBar').style.width = progress + '%';
            }
        }

        document.getElementById('progressContainer').addEventListener('click', (e) => {
            const rect = e.currentTarget.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            currentAudio.currentTime = percent * currentAudio.duration;
        });

        document.getElementById('playPauseBtn').addEventListener('click', togglePlayPause);
        document.getElementById('nextBtn').addEventListener('click', playNext);
        document.getElementById('prevBtn').addEventListener('click', playPrevious);
        currentAudio.addEventListener('timeupdate', updateProgress);
        currentAudio.addEventListener('ended', playNext);

        loadSong(0);

        // Initialize navigation dots with correct colors
        function initializeDots() {
            const dots = document.querySelectorAll('.nav-dot');
            dots.forEach((dot, index) => {
                if (index === 0) {
                    // Hero section - start with white active dot
                    dot.style.background = 'rgba(255, 255, 255, 0.9)';
                } else {
                    dot.style.background = 'rgba(255, 255, 255, 0.3)';
                }
            });
        }
        
        initializeDots();

        // Accordion functionality for Words section
        document.querySelectorAll('.accordion-header').forEach(header => {
            header.addEventListener('click', () => {
                const accordion = header.parentElement;
                const wasActive = accordion.classList.contains('active');
                
                // Close all accordions
                document.querySelectorAll('.accordion').forEach(acc => {
                    acc.classList.remove('active');
                });
                
                // Toggle current accordion
                if (!wasActive) {
                    accordion.classList.add('active');
                }
            });
        });

        // Testimonial Carousel 
        let currentTestimonial = 0;
        let autoRotateTimer;
        const testimonials = document.querySelectorAll('.testimonial');
        const testimonialDots = document.querySelectorAll('.testimonial-dot');

        // Function to show specific testimonial
        function showTestimonial(index) {
            // Ensure index is valid
            if (index >= testimonials.length) index = 0;
            if (index < 0) index = testimonials.length - 1;
            
            // Hide all testimonials first
            testimonials.forEach(t => {
                t.classList.remove('active');
            });
            
            // Show the selected testimonial
            setTimeout(() => {
                testimonials[index].classList.add('active');
            }, 10);
            
            // Update dots
            testimonialDots.forEach((d, i) => {
                if (i === index) {
                    d.classList.add('active');
                } else {
                    d.classList.remove('active');
                }
            });
            
            currentTestimonial = index;
        }

        // Function to handle dot clicks
        function goToTestimonial(index) {
            // Clear auto-rotation
            clearInterval(autoRotateTimer);
            
            // Show the selected testimonial
            showTestimonial(index);
            
            // Restart auto-rotation after manual selection
            startAutoRotate();
        }

        // Auto-rotate function 
        function startAutoRotate() {
            autoRotateTimer = setInterval(() => {
                currentTestimonial = (currentTestimonial + 1) % testimonials.length;
                showTestimonial(currentTestimonial);
            }, 8000); // 8 seconds
        }
        
        // Initialize carousel
        showTestimonial(0);
        startAutoRotate();

        // Performance navigation with full details
        const performances = [
            {
                status: 'WORLD PREMIERE',
                date: 'November 23, 2024',
                location: 'Santarém, Portugal',
                time: '21:30',
                venue: 'Santarém Cathedral',
                context: 'World Premiere - Opening Concert of FÓS 2024 – Santarém Organ Festival –, as part of the celebration of the 50th Anniversary of the Diocese of Santarém',
                promoters: [
                    'Diocese of Santarém',
                    'Santa Casa da Misericórdia of Santarém',
                    'Santarém City Council'
                ],
                performers: [
                    'ORQUESTRA CLÁSSICA DO CENTRO (Coimbra, Portugal)',
                    'CORO RICERCARE (Lisbon, Portugal)',
                    'Pedro Teixeira, Choir Conductor',
                    'Eva Braga Simões, Soprano',
                    'Maria João Gomes, Mezzo-Soprano',
                    'Tiago Sousa, Tenor',
                    'Nuno Mendes, Bass',
                    'Ricardo Toste, Organ',
                    'Sergio Alapont, Musical Director'
                ]
            },
            {
                status: 'PREVIOUS PERFORMANCE',
                date: 'April 26, 2025',
                location: 'Coimbra, Portugal',
                time: '21:30',
                venue: 'Sé Nova',
                context: 'Easter Concert – Closing concert of the Easter celebrations in the city of Coimbra',
                promoters: [
                    'Coimbra City Council',
                    'Orquestra Clássica do Centro'
                ],
                performers: [
                    'ORQUESTRA CLÁSSICA DO CENTRO (Coimbra, Portugal)',
                    'CORO RICERCARE (Lisbon, Portugal)',
                    'Pedro Teixeira, Choir Conductor',
                    'Eva Braga Simões, Soprano',
                    'Maria João Gomes, Mezzo-Soprano',
                    'Tiago Sousa, Tenor',
                    'Nuno Mendes, Bass',
                    'Ricardo Toste, Organ',
                    'Sergio Alapont, Musical Director'
                ]
            },
            {
                status: 'PREVIOUS PERFORMANCE',
                date: 'April 27, 2025',
                location: 'Shrine of Fátima, Portugal',
                time: '15:30',
                venue: 'Basilica of Our Lady of the Rosary of Fátima',
                context: 'Easter Concert',
                promoters: [
                    'Shrine of Fátima'
                ],
                performers: [
                    'ORQUESTRA CLÁSSICA DO CENTRO (Coimbra, Portugal)',
                    'CORO RICERCARE (Lisbon, Portugal)',
                    'Pedro Teixeira, Choir Conductor',
                    'Eva Braga Simões, Soprano',
                    'Maria João Gomes, Mezzo-Soprano',
                    'Tiago Sousa, Tenor',
                    'Nuno Mendes, Bass',
                    'Ricardo Toste, Organ',
                    'Sergio Alapont, Musical Director'
                ]
            },
            {
                status: 'LATEST PERFORMANCE',
                date: 'December 13, 2025',
                location: 'Lisbon, Portugal',
                time: '19:00',
                venue: 'Church of St. Nicholas',
                context: 'Christmas Concert – Between Virtuosity and Spirituality',
                promoters: [
                    'Égide – Portuguese Arts Association'
                ],
                performers: [
                    'ORQUESTRA CLÁSSICA DO CENTRO (Coimbra, Portugal)',
                    'CORO RICERCARE (Lisbon, Portugal)',
                    'Pedro Teixeira, Choir Conductor',
                    'Eva Braga Simões, Soprano',
                    'Maria João Gomes, Mezzo-Soprano',
                    'Tiago Sousa, Tenor',
                    'Nuno Mendes, Bass',
                    'Ricardo Toste, Organ',
                    'Sergio Alapont, Musical Director'
                ]
            }
        ];

        let currentIndex = 3;
        let detailsExpanded = false;

        function updatePerformance() {
            const perf = performances[currentIndex];
            const status = document.getElementById('performanceStatus');
            const date = document.getElementById('performanceDate');
            const location = document.getElementById('performanceLocation');
            const counter = document.getElementById('navCounter');
            
            status.textContent = perf.status;
            date.textContent = perf.date;
            location.textContent = perf.location;
            counter.textContent = `${currentIndex + 1} / ${performances.length}`;
            
            // Update arrow states
            document.getElementById('prevArrow').classList.toggle('disabled', currentIndex === 0);
            document.getElementById('nextArrow').classList.toggle('disabled', currentIndex === performances.length - 1);
            
            // Close details when changing performance
            if (detailsExpanded) {
                toggleDetails();
            }
            
            // Update details content
            updateDetailsContent();
        }

        function updateDetailsContent() {
            const perf = performances[currentIndex];
            const detailsContent = document.getElementById('detailsContent');
            
            let promotersHtml = perf.promoters.map(p => p).join('<br>');
            
            let performersHtml = perf.performers.map(p => p).join('<br>');
            
            detailsContent.innerHTML = `
                <div class="detail-row">
                    <div class="detail-label">Venue</div>
                    <div class="detail-value">${perf.venue}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Date & Time</div>
                    <div class="detail-value">${perf.date} · ${perf.time}</div>
                </div>
                ${perf.context ? `
                <div class="detail-row">
                    <div class="detail-label">Context</div>
                    <div class="detail-value italic">${perf.context}</div>
                </div>
                ` : ''}
                <div class="detail-row">
                    <div class="detail-label">Promoters</div>
                    <div class="detail-value promoters-list">${promotersHtml}</div>
                </div>
                <div class="detail-row">
                    <div class="detail-label">Performers</div>
                    <div class="detail-value performers-list">${performersHtml}</div>
                </div>
            `;
        }

        function toggleDetails() {
            const details = document.getElementById('performanceDetails');
            const btn = document.getElementById('detailsBtn');
            
            detailsExpanded = !detailsExpanded;
            
            if (detailsExpanded) {
                details.classList.add('expanded');
                btn.textContent = 'Hide Details';
            } else {
                details.classList.remove('expanded');
                btn.textContent = 'See Details';
            }
        }

        document.getElementById('prevArrow').addEventListener('click', () => {
            if (currentIndex > 0) {
                currentIndex--;
                updatePerformance();
            }
        });

        document.getElementById('nextArrow').addEventListener('click', () => {
            if (currentIndex < performances.length - 1) {
                currentIndex++;
                updatePerformance();
            }
        });
        
        // Initialize with details content
        updateDetailsContent();

        // Smooth scroll and dot navigation
        function scrollToSection(sectionId) {
            document.getElementById(sectionId).scrollIntoView({ behavior: 'smooth' });
        }

        // Update active dot on scroll
        window.addEventListener('scroll', () => {
            const sections = ['hero', 'essence', 'experience', 'words', 'voices', 'performances', 'connect'];
            const dots = document.querySelectorAll('.nav-dot');
            const musicPlayer = document.querySelector('.music-player');
            
            let current = 0;
            sections.forEach((section, index) => {
                const element = document.getElementById(section);
                const rect = element.getBoundingClientRect();
                if (rect.top <= window.innerHeight / 2 && rect.bottom >= window.innerHeight / 2) {
                    current = index;
                }
            });
            
            // Update navigation dots
            dots.forEach((dot, index) => {
                // For dark sections (hero and connect)
                if (current === 0 || current === 6) {
                    dot.style.background = 'rgba(255, 255, 255, 0.3)';
                    if (index === current) {
                        dot.style.background = 'rgba(255, 255, 255, 0.9)';
                    }
                } else {
                    // For light sections
                    dot.style.background = 'rgba(0, 0, 0, 0.2)';
                    if (index === current) {
                        dot.style.background = '#1a1a1a';
                    }
                }
            });
            
            // Update music player colors
            if (current === 0 || current === 6) {
                // Dark sections (hero and connect) - dark player
                musicPlayer.classList.remove('light');
            } else {
                // Light sections (essence, experience, words, voices, performances) - light player
                musicPlayer.classList.add('light');
            }
        });
    </script>
</body>
</html>